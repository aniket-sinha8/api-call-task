[{"D:\\internshipw\\api-call-task\\src\\index.js":"1","D:\\internshipw\\api-call-task\\src\\App.js":"2","D:\\internshipw\\api-call-task\\src\\reportWebVitals.js":"3","D:\\internshipw\\api-call-task\\src\\components\\ScrollComponent.js":"4"},{"size":500,"mtime":499162500000,"results":"5","hashOfConfig":"6"},{"size":199,"mtime":1610371158099,"results":"7","hashOfConfig":"6"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"6"},{"size":2015,"mtime":1610371116957,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1jov3o7",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},"D:\\internshipw\\api-call-task\\src\\index.js",[],["20","21"],"D:\\internshipw\\api-call-task\\src\\App.js",[],"D:\\internshipw\\api-call-task\\src\\reportWebVitals.js",[],"D:\\internshipw\\api-call-task\\src\\components\\ScrollComponent.js",["22"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass ScrollComponent extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      photos: [],\r\n      loading: false,\r\n      page: 0,\r\n      prevY: 0\r\n    };\r\n  }\r\n\r\n  getPhotos(page) {\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(\r\n        `https://jsonplaceholder.typicode.com/photos?_page=${page}&_limit=10`\r\n      )\r\n      .then(res => {\r\n        this.setState({ photos: [...this.state.photos, ...res.data] });\r\n        this.setState({ loading: false });\r\n      });\r\n  } \r\n\r\n  componentDidMount() {\r\n    this.getPhotos(this.state.page);\r\n\r\n    var options = {\r\n      root: null,\r\n      rootMargin: \"0px\",\r\n      threshold: 1.0\r\n    };\r\n    \r\n    this.observer = new IntersectionObserver(\r\n      this.handleObserver.bind(this),\r\n      options\r\n    );\r\n    this.observer.observe(this.loadingRef);\r\n  }\r\n\r\n  handleObserver(entities, observer) {\r\n    const y = entities[0].boundingClientRect.y;\r\n    if (this.state.prevY > y) {\r\n      const lastPhoto = this.state.photos[this.state.photos.length - 1];\r\n      const curPage = lastPhoto.albumId;\r\n      this.getPhotos(curPage);\r\n      this.setState({ page: curPage });\r\n    }\r\n    this.setState({ prevY: y });\r\n  }\r\n\r\n  render() {\r\n    //Additional css styling\r\n    const loadingCSS = {\r\n      height: \"100px\",\r\n      margin: \"30px\"\r\n    };\r\n\r\n    //To change the loading icon behavior\r\n    const loadingTextCSS = { display: this.state.loading ? \"block\" : \"none\" };\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div style={{ minHeight: \"800px\" }}>\r\n          {this.state.photos.map(user => (\r\n            <img src={user.url} height=\"100px\" width=\"200px\" />\r\n          ))}\r\n        </div>\r\n        <div\r\n          ref={loadingRef => (this.loadingRef = loadingRef)}\r\n          style={loadingCSS}\r\n        >\r\n          <span style={loadingTextCSS}>Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScrollComponent;",{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","severity":1,"message":"28","line":68,"column":13,"nodeType":"29","endLine":68,"endColumn":64},"no-native-reassign",["30"],"no-negated-in-lhs",["31"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]