(this["webpackJsonpapi-call-task"]=this["webpackJsonpapi-call-task"]||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var s=n(1),i=n(2),a=n.n(i),o=n(13),c=n.n(o),r=(n(24),n(25),n(4)),h=n(14),l=n(15),p=n(18),d=n(17),u=n(16),g=n.n(u),b=function(t){Object(p.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.call(this)).state={photos:[],loading:!1,page:0,prevY:0},t}return Object(l.a)(n,[{key:"getPhotos",value:function(t){var e=this;this.setState({loading:!0}),g.a.get("https://jsonplaceholder.typicode.com/photos?_page=".concat(t,"&_limit=10")).then((function(t){e.setState({photos:[].concat(Object(r.a)(e.state.photos),Object(r.a)(t.data))}),e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.getPhotos(this.state.page);this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(t,e){var n=t[0].boundingClientRect.y;if(this.state.prevY>n){var s=this.state.photos[this.state.photos.length-1].albumId;this.getPhotos(s),this.setState({page:s})}this.setState({prevY:n})}},{key:"render",value:function(){var t=this,e={display:this.state.loading?"block":"none"};return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{style:{minHeight:"800px"},children:this.state.photos.map((function(t){return Object(s.jsx)("img",{src:t.url,height:"100px",width:"200px"})}))}),Object(s.jsx)("div",{ref:function(e){return t.loadingRef=e},style:{height:"100px",margin:"30px"},children:Object(s.jsx)("span",{style:e,children:"Loading..."})})]})}}]),n}(i.Component);var v=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(b,{})})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(e){var n=e.getCLS,s=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),s(t),i(t),a(t),o(t)}))};c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root")),j()}},[[44,1,2]]]);
//# sourceMappingURL=main.d32941fc.chunk.js.map